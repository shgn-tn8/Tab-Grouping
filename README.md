# Domain Tab Grouper

ドメイン別にタブを自動でグループ化するChrome拡張機能です。開いているタブを整理し、生産性を向上させます。

## 主な機能

### 🎯 自動グループ化

- タブを開くと、ドメインに基づいて自動的にグループ化されます
- 同じドメインのタブが1つのグループにまとめられ、タブバーがすっきりします

### 🎨 カスタムグループルール

- 特定のURLパターンに対して、カスタムグループ名と色を設定できます
- パスを含む詳細なURLパターンマッチングに対応
- ドラッグ&ドロップでルールの優先順位を変更可能
- 例: `github.com/google` → 「Google Projects」グループ

### 🚫 除外ドメイン設定

- グループ化したくないドメインを除外リストに追加できます
- 除外されたドメインのタブは個別のタブとして表示されます

### 📦 その他の便利機能

- **自動折りたたみ**: アクティブでないグループを自動で折りたたみ
- **重複タブ削除**: 同じURLのタブを自動的に閉じる
- **ルールのインポート/エクスポート**: カスタムルールをJSON形式で保存・共有

## インストール方法

### Chrome Web Storeからインストール（推奨）

_※現在準備中_

### 開発者モードでインストール

1. このリポジトリをクローンまたはダウンロードします

```bash
git clone https://github.com/yourusername/Tab-Grouping.git
```

2. Chromeで `chrome://extensions/` を開きます

3. 右上の「デベロッパーモード」をオンにします

4. 「パッケージ化されていない拡張機能を読み込む」をクリックします

5. ダウンロードしたフォルダを選択します

## 使い方

### 基本的な使い方

1. 拡張機能をインストールすると、自動的にタブのグループ化が開始されます
2. ツールバーのアイコンをクリックすると、ポップアップが表示されます
3. 「今すぐ全てのタブを整理」ボタンで、既存のタブを一括整理できます

### カスタムルールの設定

1. ポップアップから「設定を開く」をクリック
2. 「カスタムグループルール」セクションで以下を入力:
   - **URLパターン**: マッチさせたいURL（例: `github.com/google`）
   - **グループ名**: 表示するグループ名
   - **色**: グループの色を選択
3. 「ルールを追加」をクリック

#### URLパターンの指定方法

- **ドメインのみ**: `example.com` → `example.com` とそのサブドメインにマッチ
- **パスを含む**: `github.com/google` → 特定のパスにマッチ
- ルールは上から順に評価され、最初にマッチしたルールが適用されます

### 除外ドメインの設定

1. 設定ページの「除外ドメイン」セクションに移動
2. 除外したいドメインを入力（例: `mail.google.com`）
3. 「追加」をクリック

### ルールのインポート/エクスポート

- **エクスポート**: 「ルールをエクスポート」ボタンでJSON形式で保存
- **インポート**: 「ルールをインポート」ボタンでJSONファイルを読み込み

## 技術仕様

### ファイル構成

```
Tab-Grouping/
├── manifest.json       # 拡張機能の設定ファイル
├── background.js       # バックグラウンドスクリプト（メインロジック）
├── popup.html          # ポップアップUI
├── popup.js            # ポップアップのロジック
├── options.html        # 設定ページUI
├── options.js          # 設定ページのロジック
└── icons/              # アイコン画像
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

### 使用技術

- **Manifest V3**: 最新のChrome拡張機能仕様
- **Chrome APIs**:
  - `chrome.tabs`: タブ操作
  - `chrome.tabGroups`: タブグループ管理
  - `chrome.storage`: 設定の保存

### 主要機能の実装

- **メモリキャッシュ**: 設定を高速に読み込むためのキャッシュ機構
- **ドメイン抽出**: 複合TLD（`co.jp`、`co.uk`など）に対応したドメイン抽出
- **パターンマッチング**: URLパスを含む柔軟なマッチング
- **ドラッグ&ドロップ**: HTML5 Drag and Drop APIを使用したルール並び替え

## トラブルシューティング

### タブがグループ化されない

- 自動グループ化がオンになっているか確認してください
- 該当ドメインが除外リストに含まれていないか確認してください
- ページを再読み込みしてみてください

### カスタムルールが適用されない

- URLパターンが正しいか確認してください
- ルールの優先順位を確認してください（上のルールが優先されます）
- 「今すぐ全てのタブを整理」で再適用してみてください

### 設定が保存されない

- Chrome拡張機能の権限が正しく設定されているか確認してください
- `chrome://extensions/` で拡張機能を再読み込みしてみてください

## 開発者向け情報

### ローカル開発

```bash
# リポジトリをクローン
git clone https://github.com/yourusername/Tab-Grouping.git
cd Tab-Grouping

# Chrome拡張機能として読み込み
# chrome://extensions/ で「パッケージ化されていない拡張機能を読み込む」
```

### デバッグ

- バックグラウンドスクリプト: `chrome://extensions/` → 「サービスワーカー」をクリック
- ポップアップ: ポップアップを開いて右クリック → 「検証」
- 設定ページ: 設定ページで右クリック → 「検証」

### コントリビューション

プルリクエストを歓迎します！以下の手順でコントリビュートできます:

1. このリポジトリをフォーク
2. 新しいブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add some amazing feature'`)
4. ブランチにプッシュ (`git push origin feature/amazing-feature`)
5. プルリクエストを作成

## ライセンス

MIT License

## 作者

[@SHoGun](https://github.com/shgn-tn8)

## 更新履歴

### v1.0.0 (2026-01-28)

- 初回リリース
- ドメイン別自動グループ化機能
- カスタムグループルール機能
- 除外ドメイン設定機能
- ルールのインポート/エクスポート機能
- 自動折りたたみ機能
- 重複タブ削除機能

## サポート

問題が発生した場合は、[Issues](https://github.com/shgn-tn8/Tab-Grouping/issues)で報告してください。

---

⭐ このプロジェクトが役に立った場合は、スターをつけていただけると嬉しいです！
